/* CSS Variables for color scheme */
:root {
    --primary-bg: #f1f3f4;
    --primary-text: #333333;
    --primary-accent: #79bac1;
    --secondary-accent: #2a7886;
    --dark-accent: #204051;
    --highlight: #512b58;
    --secondary-highlight: #7a4284;
    --light-grey-accent: #bcc1c4;
    --button-bg: #f1f3f4;
    --button-border: #204051;
    --button-text: #204051;
    --button-hover-bg: #204051;
    --button-hover-text: #f1f3f4;
    --line-height: 28px;
    --half-line: 14px;
    --quarter-line: 7px;
}

body {
    font-family: "Open Sans", sans-serif;
    text-align: center;
    color: var(--primary-text);
    position: relative;

    /* Cork board background - make it scroll with content */
    background-color: #BB8141;
    /* Base cork color */
    background-image:
        /* Fine grain texture */
        url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.25'/%3E%3C/svg%3E"),
        /* Light speckles */
        radial-gradient(circle at 50% 50%, #D4A76A 0%, transparent 1.5%),
        radial-gradient(circle at 30% 20%, #D4A76A 0%, transparent 1%),
        radial-gradient(circle at 70% 40%, #D4A76A 0%, transparent 1.2%),
        radial-gradient(circle at 25% 80%, #D4A76A 0%, transparent 1.3%),
        radial-gradient(circle at 80% 75%, #D4A76A 0%, transparent 1.1%),
        radial-gradient(circle at 10% 30%, #D4A76A 0%, transparent 1.4%),
        radial-gradient(circle at 90% 20%, #D4A76A 0%, transparent 1.2%),
        radial-gradient(circle at 60% 95%, #D4A76A 0%, transparent 1.3%),
        /* Dark speckles */
        radial-gradient(circle at 15% 25%, #9A6B35 0%, transparent 1.5%),
        radial-gradient(circle at 55% 15%, #9A6B35 0%, transparent 1%),
        radial-gradient(circle at 40% 55%, #9A6B35 0%, transparent 1.2%),
        radial-gradient(circle at 75% 30%, #9A6B35 0%, transparent 1.3%),
        radial-gradient(circle at 35% 70%, #9A6B35 0%, transparent 1.1%),
        radial-gradient(circle at 85% 65%, #9A6B35 0%, transparent 1.4%),
        radial-gradient(circle at 20% 90%, #9A6B35 0%, transparent 1.2%),
        radial-gradient(circle at 65% 85%, #9A6B35 0%, transparent 1.3%),
        /* Larger subtle color variations */
        linear-gradient(45deg,
            rgba(186, 129, 65, 0.4) 0%,
            rgba(171, 121, 66, 0.3) 25%,
            rgba(201, 149, 95, 0.4) 50%,
            rgba(193, 138, 79, 0.3) 75%,
            rgba(186, 129, 65, 0.4) 100%);

    background-size:
        200px 200px,
        /* Noise texture */
        120px 120px, 150px 150px, 180px 180px, 120px 120px, 140px 140px, 160px 160px, 170px 170px, 130px 130px,
        110px 110px, 140px 140px, 160px 160px, 130px 130px, 150px 150px, 170px 170px, 120px 120px, 130px 130px,
        100% 100%;
    /* Large gradient */

    background-position:
        0 0,
        /* Noise texture */
        /* Random positions for light speckles */
        10px 10px, 40px 50px, 80px 20px, 120px 70px, 50px 100px, 180px 30px, 220px 60px, 270px 120px,
        /* Random positions for dark speckles */
        30px 30px, 70px 80px, 120px 40px, 180px 60px, 90px 130px, 210px 100px, 250px 30px, 300px 85px,
        0 0;
    background-attachment: scroll;
}

h4 {
    margin-block-start: 1.33em;
    margin-block-end: 1.33em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    margin-top: 10px;
    font-weight: bold;
    text-align: left;
    max-width: 230px;
}

h5 {
    display: block;
    margin-block-start: 1.33em;
    margin-block-end: 1.33em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    margin-top: 10px;
    text-align: left;
    font-weight: bold;
}

hr {
    padding-bottom: 0; /* Removed unusual padding */
    border-color: var(--light-grey-accent);
    border-style: solid;
    border-width: 1px 0 0 0; /* Only top border */
    margin: var(--line-height) auto; /* Consistent spacing */
}

ul {
    float: left; /* Consider removing if not necessary for layout */
    list-style-position: inside; /* Or outside, depending on desired alignment */
    padding-left: 20px; /* Indent list */
}

a:hover {
    text-decoration: none;
}

/* Layout containers */
.top-container {
    height: auto;
    background-color: transparent;
    position: relative;
    text-align: center;
    z-index: 1; /* Ensure content is above body background */
    flex: 1;
    min-width: 250px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px 0; /* Add some vertical padding */
}

.middle-container {
    display: block; /* Changed from inline-block for better centering */
    max-width: 80%;
    padding: 20px;
    margin: 0 auto; /* Center if it's a main content block */
}

.about-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: stretch; /* Makes children of same height */
    gap: 20px;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

.project-container {
    display: block; /* Changed from inline-block for better centering */
    max-width: 90%;
    padding: 20px 0; /* Vertical padding */
    margin: 0 auto; /* Center project container */
}

/* Simplified .paper-note styling with CSS-only lines */
.paper-note {
    position: relative;
    background-color: #fdfdfd; /* Light off-white for paper */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Subtle shadow for depth */
    border: 1px solid #e0e0e0; /* Light border for definition */
    overflow: hidden; /* Contains any pseudo-elements or complex children */
    border-radius: 0; /* Sharp corners for paper */
    padding: var(--line-height) 20px 20px 20px; /* Top padding for first line, others for content */
    margin-bottom: 30px; /* Space between notes */
    background-image: repeating-linear-gradient(
        transparent,
        transparent calc(var(--line-height) - 1px),
        rgba(0,0,0,0.07) calc(var(--line-height) - 1px),
        rgba(0,0,0,0.07) var(--line-height)
    );
    line-height: var(--line-height); /* Default line height for content within */
}

/* About section (as a .paper-note variant) */
.about-me.paper-note {
    min-width: 210px;
    margin: 0; /* If used within .about-container, gap handles spacing */
    text-align: left;
    flex: 1; /* Allow it to grow if in flex container */
    max-width: 400px;
}

.text-about-me {
    font-size: 1.1em;
    margin: 0 0 var(--line-height) 0; /* Spacing based on line height */
}

.links-about-me {
    margin: 0;
}


/* Project display */
.project-row-left,
.project-row-right {
    /* These are .paper-note variants, so they inherit base .paper-note styles */
    display: flex;
    text-align: left;
    transform: rotate(-0.8deg); /* Subtle rotation effect, can be optional */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    margin-left: 10px; /* Specific margin for project rows */
}

.project-row-left {
    flex-direction: row;
    justify-content: start;
}

.project-row-right {
    flex-direction: row;
    justify-content: start;
}

.project-row-left:hover,
.project-row-right:hover {
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); /* Slightly more pronounced shadow */
}


/* Image styling */
.project-image-container {
    position: relative;
    width: 150px;
    height: 150px;
    margin: 0 30px; /* Spacing around image */
    display: flex;
    justify-content: center;
    align-items: center;
}

.project-image {
    width: 140px;
    height: 140px;
    object-fit: cover;
    border-radius: 0; /* Sharp corners */
}

/* Project info container */
.project-info {
    display: flex;
    flex-direction: column;
    text-align: left;
    font-size: 0.9em;
    margin: 0;
    flex: 1; /* Takes available space */
}

/* Project content elements */
.project-title {
    font-size: 1.6em;
    margin: 0 0 var(--half-line) 0; /* Bottom margin for spacing */
    color: var(--dark-accent);
    padding: 0; /* Remove padding if relying on margin */
    line-height: 1.2; /* Adjusted for larger font, may not perfectly align with CSS lines */
}

.date-container {
    display: flex;
    align-items: center;
    margin: 0 0 var(--half-line) 0; /* Bottom margin */
    color: var(--dark-accent);
    font-size: 0.9em;
}

.date-container .iconify {
    margin-right: var(--quarter-line);
}
.date-container .seperator { margin: 0 var(--quarter-line); }


.project-links {
    display: flex;
    flex-wrap: wrap;
    gap: 10px; /* Space between link buttons */
    margin: 0 0 var(--line-height) 0; /* Bottom margin */
    align-items: center; /* Vertically align items if they wrap */
}

.project-description {
    margin: 0; /* Let line-height from .paper-note handle spacing within */
}

/* Tags */
.tag-container {
    position: absolute;
    top: 20px;
    right: -35px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 2; /* Above paper lines */
}

.tag {
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary-bg);
    font-size: 0.85em;
    padding: 6px 10px;
    line-height: 1; /* Tags have their own line height */
    border-radius: 2px;
    position: relative;
    box-shadow: 2px 2px 3px rgba(0,0,0,0.2);
    min-width: 70px;
    transform: rotate(2deg); /* Subtle rotation for tags */
}

.tag::before { /* Tape effect */
    content: "";
    position: absolute;
    left: -30px;
    top: 0;
    width: 35px;
    height: 100%;
    background-color: rgba(255,255,255,0.7);
    border-radius: 2px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    opacity: 0.8;
    background-image: linear-gradient(90deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0.3) 100%);
    z-index: -1; /* Behind the tag */
}

.tag::after { /* Bottom shadow for depth - subtle */
    content: "";
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.05)); /* Softer shadow */
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.tag:nth-child(odd) { transform: rotate(3deg); }
.tag:nth-child(even) { transform: rotate(1deg); }
.tag:nth-child(3n) { transform: rotate(-1deg); }
.tag:nth-child(3n+1) { transform: rotate(2deg); }


/* Section titles and dividers */
.section-title {
    color: var(--dark-accent);
    font-size: 2.2em;
    font-family: "Open Sans", sans-serif;
    text-align: center;
    margin-top: 20px; /* Spacing above title */
    margin-bottom: var(--line-height); /* Spacing below title, aligned with lines */
    background-color: rgba(241,243,244,0.7); /* Semi-transparent background */
    display: inline-block; /* So background fits content */
    padding: 0 15px;
    position: relative; /* For z-index if needed */
    z-index: 1; /* Above paper lines if it's on a paper-note */
}

.section-split, .projects-split, .experience-split {
    width: 90%;
    margin: var(--line-height) auto; /* Consistent spacing */
    border-color: var(--primary-accent);
}
.projects-split, .experience-split { width: 33%; }


/* Tag colors */
.tag.webapp { background-color: var(--dark-accent); }
.tag.dataset { background-color: var(--secondary-accent); }
.tag.code { background-color: var(--highlight); }
.tag.educational { background-color: var(--secondary-highlight); }
.tag.experiment { background-color: var(--primary-accent); }

/* Utility classes */
.center { text-align: center; }
.seperator { margin: 0 var(--quarter-line); }
.link { color: var(--dark-accent); text-decoration: none; }
.inline { display: inline-block; margin: 0px; }

/* Density plot styling */
.paper-note.density-plot-container {
    margin: 20px auto; /* Center */
    text-align: center;
    width: 320px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
.density-plot { /* The image itself */
    max-width: 100%;
    width: 280px; /* Slightly smaller than container */
    height: auto;
    margin: 0 auto; /* Center */
}

/* Cool Stuff Section */
.cool-stuff-section {
    margin-top: 40px;
    margin-bottom: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.cool-stuff-container.paper-note {
    max-width: 1000px;
    margin: 0 auto; /* Center */
}

.cool-stuff-links { /* Container for links inside cool-stuff-container */
    position: relative; /* For z-index if needed */
    z-index: 1; /* Above paper lines */
}

.cool-stuff-item {
    display: flex;
    align-items: center;
    margin-bottom: var(--half-line); /* Spacing between items */
    transition: transform 0.2s ease;
    padding-left: 10px; /* Indent items slightly */
}

.cool-stuff-item:hover {
    transform: translateX(5px);
    color: var(--dark-accent);
}

.cool-stuff-item .iconify {
    min-width: 20px; /* Ensure icon has space */
    margin-right: var(--quarter-line);
    display: flex;
    align-items: center;
    justify-content: center;
}

.cool-stuff-item p {
    margin: 0;
    padding: 0;
}

/* Section title container as paper note */
.paper-note.section-title-container {
    margin: 20px auto;
    text-align: center;
    max-width: 450px;
    display: inline-block; /* To size to content */
}
.paper-note.section-title-container .section-title {
    margin: 0;
    padding: 0;
    background-color: transparent; /* No extra background for title itself */
    line-height: 1.3; /* For wrapped text */
}

/* Footer paper note */
.paper-note.bottom-container {
    margin: 20px auto;
    text-align: center;
    max-width: 300px;
}
.bottom-container p {
    margin: 0; /* Remove default p margin */
}


.my_name {
    position: absolute;
    font-size: 3.5rem;
    font-family: 'Montserrat', sans-serif;
    font-weight: normal;
    color: var(--primary-bg);
    left: 37.5%;
    top: 40%;
}

/* Responsive design */
@media screen and (max-width: 900px) {
    .about-container {
        flex-direction: column;
        align-items: center;
    }

    .paper-note.density-plot-container,
    .paper-note.about-me,
    .top-container {
        width: 90%;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 20px; /* Spacing when stacked */
    }
    .top-container { margin-bottom: 20px; }


    .density-plot { width: 250px; }
}

@media screen and (max-width: 480px) {
    .project-row-left,
    .project-row-right {
        flex-direction: column; /* Stack image and info */
        margin-left: 5px; /* Closer to edge */
        transform: none; /* No rotation on small screens */
    }

    .project-image-container {
        width: 100px;
        height: 100px;
        margin: var(--half-line) auto; /* Center image */
    }
    .project-image { width: 90px; height: 90px; }

    .project-links {
        flex-direction: column;
        align-items: flex-start; /* Align links to left */
        gap: var(--quarter-line);
        margin-top: var(--half-line);
    }

    .my_name { font-size: 2.5rem; left: 15%; } /* Adjust as needed */

    .paper-note, .project-row-left, .project-row-right {
        padding: var(--half-line) 15px; /* Smaller padding */
    }
    
    .project-row-left .project-info, .project-row-right .project-info {
        padding-left: 0; /* No extra padding when stacked */
    }

    .info-link-button {
        padding: 2px 6px;
        font-size: 0.8em;
        height: auto; /* Let content define height */
        min-height: var(--line-height); /* Minimum touch target */
    }

    .project-title { font-size: 1.3em; }

    .tag-container { right: -15px; top: 15px; gap: 5px;}
    .tag { font-size: 0.7em; padding: 3px 6px; min-width: 50px; }
    .tag::before { width: 20px; left: -20px; } /* Narrower tape for smaller tags */
}

/* Simplified .line-aligned class - apply to text elements needing line alignment */
.line-aligned {
    line-height: var(--line-height);
    margin-top: 0;
    margin-bottom: 0; 
    padding-top: var(--quarter-line); /* Adjust for better visual alignment on the line */
    padding-bottom: var(--quarter-line);
}

/* Ensure info-link-button aligns nicely */
.info-link-button {
    height: var(--line-height); /* Make button height match line height */
    padding-top: 0; /* Adjust padding to vertically center content */
    padding-bottom: 0;
    display: inline-flex; /* To allow vertical alignment of content */
    align-items: center;
}

/* Cool stuff section title responsive adjustments */
#cool-stuff .section-title-container.paper-note {
    max-width: 600px;
}

@media screen and (max-width: 480px) {
    #cool-stuff .section-title-container.paper-note {
        max-width: 90%; /* Take more width on small screens */
    }
    .paper-note.section-title-container .section-title {
        font-size: 1.9em;
        line-height: 1.4; /* Adjust for readability if text wraps */
    }
}

/* General text alignment within .paper-note */
.paper-note p,
.paper-note .text-about-me,
.paper-note .project-description,
.paper-note .links-cool-stuff, /* If it's a block of text/links */
.paper-note .links-about-me,
.paper-note .bottom-container p {
    line-height: var(--line-height);
    margin-bottom: 0; /* Spacing handled by line-height or container padding */
    /* padding-top: var(--quarter-line); */ /* May not be needed if parent sets line-height */
}

/* Specific adjustments if elements inside .paper-note have different font sizes */
.paper-note .project-title {
    /* line-height: 1.2; already set, might not perfectly align with base lines */
}
.paper-note .date-container {
    /* line-height: var(--line-height); Ensure it aligns */
}
.paper-note .cool-stuff-item {
    /* line-height: var(--line-height); */
}
.paper-note .cool-stuff-item p {
    /* padding-top: 0; Text within item already aligned by item's line-height */
}

/* Fix for info-link-button to ensure text is centered */
.info-link-button span {
    display: inline-block;
    vertical-align: middle;
}
.info-link-button .iconify {
    margin-right: 5px; /* Space between icon and text */
}
